<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <script name="jquery/jquery.js" library="primefaces"></script>
        <title>Update an Incident</title>
        <style type="text/css">
            p {
                line-height: 1.5;
                margin: 0;
            }
        </style>
    </h:head>
    <body>
        <p:growl id="growl" showSummary="true" showDetail="true" keepAlive="true" life="3000">
            <p:autoUpdate/>
        </p:growl>
        <p:card style="margin:auto; width:85%;">
            <p:commandButton action="#{ireporterView.cancel()}" styleClass="ui-button-danger" value="Cancel" icon="pi pi-times" style="margin-right:20px;"/>
            <h1>Update an Incident</h1>
            <h:form>
                <div class="ui-fluid p-formgrid p-grid">
                    <div class="p-field p-col-12 p-md-6">
                        <label for="title">Title</label>
                        <p:inputText id="title" type="text" value="#{ireporterView.incident.title}" />
                    </div>

                    <div class="p-field p-col-12">
                        <p:outputLabel for="comment">Comment:</p:outputLabel>
                        <p:inputTextarea id="comment" row = "30" col = "10" value = "#{ireporterView.incident.comment}"/>
                    </div>

                    <p:outputLabel for="@next">Type:</p:outputLabel>
                    <p:selectOneMenu value="#{ireporterView.incident.type}">
                        <f:selectItem itemLabel="Select type" itemValue="null"/>
                        <f:selectItems var="type" itemLabel="#{type.label}"  value="#{ireporterView.types}"/>
                    </p:selectOneMenu>
                    <p:commandButton value="Update" styleClass="ui-button-success" action="#{ireporterView.update(ireporterView.incident)}"></p:commandButton>

                </div>
            </h:form>

        </p:card>
    </body>
</html>